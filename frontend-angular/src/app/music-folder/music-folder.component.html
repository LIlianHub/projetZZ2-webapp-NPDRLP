<p-toast></p-toast>
<h2>Vos Dossiers</h2>
<div *ngIf="!loading">
    <div *ngIf="dossier">
        <p-panelMenu [model]="dossier" [style]="{'width':'300px'}" (contextmenu)="onRightClick($event, $event)"></p-panelMenu>
        <p-confirmPopup></p-confirmPopup>
        <button pButton pRipple type="button" icon="pi pi-plus" class="p-button-rounded p-button-outlined"
            (click)="TweakMenuAjoutDossier($event)"></button>
        <div *ngIf="activeAddFolderMenu">
            <form [formGroup]="FormAddFolder" (ngSubmit)="onSubmitAjoutDossier()">
                <input type="text" name="FolderName" class="p-inputtext-sm" formControlName="FolderName" pInputText>
                <button pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded p-button-outlined"
                    [disabled]="!FormAddFolder.valid" type="submit"></button>
            </form>
        </div>
    </div>
    <div *ngIf="!dossier">
        <p>{{erreurMessage}}</p>>
    </div>
</div>
<div *ngIf="loading">
    <p-progressSpinner></p-progressSpinner>
</div>

<div *ngIf="!activeChoiceMenu">
    <p-menu #menu [model]="choiceMenu" 
        [ngStyle]="{'position': 'absolute', 'left': posXChoiceMenu + 'px', 'top': posYChoiceMenu + 'px'}">
        <ng-template let-item>
            <div>
                {{item.label}}
            </div>
        </ng-template>
    </p-menu>
</div>